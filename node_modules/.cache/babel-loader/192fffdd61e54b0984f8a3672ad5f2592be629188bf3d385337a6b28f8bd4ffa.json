{"ast":null,"code":"import _defineProperty from\"C:/Users/Admin/acd_project/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Admin/acd_project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Admin/acd_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState}from\"react\";import{Products}from\"../products\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ShopContext=/*#__PURE__*/createContext(null);export var ShopContextProvider=function ShopContextProvider(props){var getDefaultCart=function getDefaultCart(){var cart={};for(var i=1;i<Products.length+1;i++){cart[i]=0;}return cart;};var _useState=useState(getDefaultCart()),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var addToCart=function addToCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]+1));});};var removeFromCart=function removeFromCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]-1));});};var updateCartItemCount=function updateCartItemCount(newAmount,itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,newAmount));});};var getTotalCartAmount=function getTotalCartAmount(){var totalAmount=0;var _loop=function _loop(item){if(cartItems[item]>0){var itemInfo=Products.find(function(product){return product.id===Number(item);});totalAmount+=cartItems[item]*itemInfo.price;}};for(var item in cartItems){_loop(item);};return totalAmount;};console.log(cartItems);var contextValue={cartItems:cartItems,addToCart:addToCart,removeFromCart:removeFromCart,updateCartItemCount:updateCartItemCount,getTotalCartAmount:getTotalCartAmount};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};","map":{"version":3,"names":["React","createContext","useState","Products","jsx","_jsx","ShopContext","ShopContextProvider","props","getDefaultCart","cart","i","length","_useState","_useState2","_slicedToArray","cartItems","setCartItems","addToCart","itemId","prev","_objectSpread","_defineProperty","removeFromCart","updateCartItemCount","newAmount","getTotalCartAmount","totalAmount","_loop","item","itemInfo","find","product","id","Number","price","console","log","contextValue","Provider","value","children"],"sources":["C:/Users/Admin/acd_project/src/context/shop-context.jsx"],"sourcesContent":["import React, {createContext, useState} from \"react\";\r\nimport { Products } from \"../products\";\r\n\r\nexport const ShopContext =  createContext(null);\r\n\r\nexport const ShopContextProvider = (props) => {\r\n\r\n    const getDefaultCart = () => {\r\n        let cart = {};\r\n        for (let i=1; i <Products.length + 1; i++){\r\n            cart [i] = 0;\r\n        }\r\n        return cart;\r\n    };\r\n\r\n    const [cartItems, setCartItems] = useState(getDefaultCart());\r\n\r\n    const addToCart = (itemId) => {\r\n        setCartItems((prev) => ({...prev, [itemId]: prev[itemId] + 1}))    \r\n        \r\n    };\r\n\r\n    const removeFromCart = (itemId) => {\r\n        setCartItems((prev) => ({...prev, [itemId]: prev[itemId] - 1}))    \r\n        \r\n    };\r\n\r\n    const updateCartItemCount = (newAmount, itemId) => {\r\n        setCartItems((prev) => ({...prev, [itemId]: newAmount}));\r\n    };\r\n\r\n    const getTotalCartAmount = () => {\r\n        let totalAmount = 0;\r\n        for (const item in cartItems) {\r\n            if(cartItems[item] > 0){\r\n                let itemInfo = Products.find((product) => product.id === Number(item));\r\n                totalAmount += cartItems[item] * itemInfo.price\r\n            }\r\n        };\r\n        return totalAmount;\r\n    }\r\n    console.log(cartItems);\r\n\r\n    const contextValue = {cartItems, addToCart, removeFromCart, updateCartItemCount, getTotalCartAmount}\r\n    return(\r\n        <ShopContext.Provider value ={contextValue}>\r\n            {props.children}\r\n        </ShopContext.Provider>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}